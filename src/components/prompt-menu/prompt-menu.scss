//vars
$fg: #00bcd4;
$bg: #673ab7;
$pi: 3.14;

//config
$menu-items: 7;
$open-distance: 105px;
$opening-angle: $pi * 2;

%goo {
	filter: url("#shadowed-goo");
	// debug
	//background:rgba(255,0,0,0.2);
}
%ball {
	background: $fg;
	border: none;
	border-radius: 100%;
	width: 80px;
	height: 80px;
	position: absolute;
	color: white;
	text-align: center;
	line-height: 80px;
	transform: translate3d(0, 0, 0);
	transition: transform ease-out 200ms;
	box-sizing: border-box;
	line-height: 1.2em;
	display: flex;
	justify-content: center;
	align-items: center;
	padding: 2px 10px 0px;
	cursor: pointer;
	outline: none;
}

.gooey-menu {
	@extend %goo;
	width: 650px;
	height: 150px;
	box-sizing: border-box;
	text-align: left;

	.menu-open {
		display: none;

		&:checked {
			+ .menu-open-button {
				transition-timing-function: linear;
				transition-duration: 200ms;
				transform: scale(0.8) translate3d(0, 0, 0);
			}

			~ .menu-item {
				transition-timing-function: cubic-bezier(0.165, 0.84, 0.44, 1);

				@for $i from 1 through $menu-items {
					&:nth-child(#{$i + 2}) {
						transition-duration: 90ms + (100ms * $i);
						transform: translate3d(100px * $i, 0, 0);
					}
				}
			}
		}
	}

	.menu-open-button {
		@extend %ball;

		z-index: 2;
		transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
		transition-duration: 0.4s;
		transform: scale(1) translate3d(0, 0, 0);
		cursor: pointer;

		&:hover {
			transform: scale(1.2) translate3d(0, 0, 0);
		}
	}

	.menu-item {
		@extend %ball;

		&:hover {
			background: white;
			color: $fg;
		}

		@for $i from 1 through $menu-items {
			&:nth-child(#{$i + 2}) {
				transition-duration: 180ms;
			}
		}
	}
}
